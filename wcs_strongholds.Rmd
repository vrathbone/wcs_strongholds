---
title: "WCS Strongholds"
author: "Vanessa Rathbone"
date: "10/6/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(raster)
library(tidyverse)
library(sf)
library(here)
library(janitor)
library(fasterize)


```

```{r}

#Read in and tidy up the data
continents <- read_sf(here("continents", "4a7d27e1-84a3-4d6a-b4c2-6b6919f3cf4b202034-1-2zg7ul.ht5ut.shp")) %>% 
  clean_names()

st_crs(continents)

plot(continents)

#strongholds
strongholds <- read_sf(here("strongholds", "STHOLDS_intersect.shp")) %>%
  clean_names() 

st_crs(strongholds)

strong_rast <- raster(extent(strongholds))
values(strong_rast) <- 1:ncell(strong_rast)
strong_rast <-mask(strong_rast, continents)

plot(strong_rast)

strong_df <- strong_rast %>%
  as.data.frame()

#where we work
www <- st_read(here("www", "WWW_intersect.shp")) %>% 
  clean_names() %>% 
  st_transform(., crs = st_crs(continents)) #change to correct crs

st_crs(www)

www_rast <- raster(extent(www))
values(www_rast) <- 1:ncell(www_rast)
www_rast <-mask(www_rast, continents)

plot(www_rast)




```

Rasterize sf files
```{r}



```

Area
```{r}

  mutate(area = st_area(geometry)) 
  X %>% mutate(area = st_area(geometry))

#total area

#Strongholds
# strong_area <- strongholds %>% 
#   group_by(region) %>% 
#   summarise(sum_area_k2 = sum(shape_area^2))

strong_area <- strongholds %>% 
  group_by(continent) %>% 
  summarise(sum_area_k2 = sum(sqkm))

#% of area of the globe

#WWW - green polygons
# www_area <- www %>% 
#   group_by(region) %>% 
#   summarise(sum_area_k2 = sum(shape_area^2)) %>% 
#   mutate(percent = www_area$sum_area_k2/

www_area <- www %>% 
  group_by(continent) %>% 
  summarise(sum_area_k2 = sum(sqkm))

###########

#terrestrial area

#%of total terrestrial area

##########

#marine area

#%of total marine area



```

Biodiversity
```{r}

#number of Threatened Species

#IUCN Red List Species Category by animal category by # and by % of global total

#Marine species represented

############

#Cats and dogs

# total number of species
# total number of threatened species
# total number of threatened species distribution
# total number of threatened species population

```

